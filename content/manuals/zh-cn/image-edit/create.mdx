---
title: '图像编辑'
description: '主要的图像编辑功能，支持11种不同的编辑类型'
folder: false
order: 1
---

# 图像编辑

import { CodeExample } from '@coffic/cosy-ui';

基于DashScope API的图像编辑工具，支持11种不同的编辑功能，包括风格化、图像修复、超分、上色、线稿生图等。

## 🚀 支持的功能类型

### 基础编辑功能
- **[整体风格化](./functions/stylization-all.mdx)** - 将整张图片转换为指定风格
- **[局部风格化](./functions/stylization-local.mdx)** - 将图片的特定部分转换为指定风格
- **[指令编辑](./functions/description-edit.mdx)** - 根据文字描述修改图片中的特定内容

### 精确编辑功能
- **[局部重绘](./functions/description-edit-with-mask.mdx)** - 根据文字描述和蒙版指定区域进行精确重绘
- **[图像修复](./functions/inpainting.mdx)** - 修复图片中的缺陷，需要提供蒙版

### 特殊处理功能
- **[去文字水印](./functions/remove-watermark.mdx)** - 去除图片中的水印和文字
- **[图像上色](./functions/colorization.mdx)** - 为黑白图片添加颜色

### 图像增强功能
- **[扩图](./functions/expand.mdx)** - 向四个方向扩展图片，支持自定义缩放比例
- **[图像超分](./functions/super-resolution.mdx)** - 提高图片分辨率，支持自定义放大倍数

### 创意生成功能
- **[线稿生图](./functions/doodle.mdx)** - 将线稿或涂鸦转换为完整的图片
- **[卡通形象控制](./functions/control-cartoon-feature.mdx)** - 支持参考卡通形象生成图像

## 📋 参数说明

| 参数 | 类型 | 必需 | 描述 |
|------|------|------|------|
| `imageUrl` | string | ✅ | 需要编辑的图片URL |
| `prompt` | string | ✅ | 编辑指令描述，最多800个字符 |
| `function` | enum | ❌ | 编辑功能类型，默认为"stylization_all" |
| `maskUrl` | string | ❌ | 蒙版图片URL，用于指定编辑区域 |
| `n` | number | ❌ | 生成图片数量，默认1 |
| `topScale` | number | ❌ | 向上扩展的缩放比例，扩图功能使用，默认1.5 |
| `bottomScale` | number | ❌ | 向下扩展的缩放比例，扩图功能使用，默认1.5 |
| `leftScale` | number | ❌ | 向左扩展的缩放比例，扩图功能使用，默认1.5 |
| `rightScale` | number | ❌ | 向右扩展的缩放比例，扩图功能使用，默认1.5 |
| `upscaleFactor` | number | ❌ | 图像超分的放大倍数，超分功能使用，默认2 |
| `model` | string | ❌ | 使用的图像编辑模型，使用imageedit_models工具查询支持的模型 |
| `dashScopeApiKey` | string | ❌ | DashScope API密钥 |

## 🔍 蒙版需求说明

- **需要蒙版**：`description_edit_with_mask`、`inpainting`
- **可选蒙版**：`stylization_partial`（某些情况）
- **无需蒙版**：`stylization_all`、`stylization_local`、`description_edit`、`remove_watermark`、`expand`、`super_resolution`、`colorization`、`doodle`、`control_cartoon_feature`

## 📖 使用流程

1. **提交编辑任务**：使用 `imageedit` 工具
2. **获得任务ID**：API返回任务标识
3. **等待执行**：通常需要15秒左右
4. **查询状态**：使用 `imageedit_status` 工具
5. **获取结果**：任务完成后获得生成的图片URL

## ⚠️ 注意事项

- 图片URL需要是可访问的公开链接
- 蒙版图片用于指定编辑区域，某些功能类型必需
- 任务执行是异步的，需要等待并查询状态
- 支持批量生成多张图片（通过n参数）
- 扩图功能支持向四个方向自定义扩展比例
- 图像超分功能支持自定义放大倍数，提高图片分辨率
- 图像上色功能专门用于为黑白图片添加颜色
- 去文字水印功能专门用于去除水印和文字内容
- 局部重绘功能提供最精确的区域控制

## 🔧 技术实现

所有功能都基于DashScope API实现，支持异步任务处理，确保长时间运行的编辑任务能够正常完成。工具集完全集成到MCP系统中，支持类型安全的参数验证和错误处理。

## 📚 详细功能文档

每个功能都有详细的文档说明，包括：
- 功能描述和用途
- 详细的使用示例
- 提示词技巧和最佳实践
- 适用场景和注意事项

点击上方功能列表中的链接查看详细文档。
